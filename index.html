
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <script type="text/javascript">
            window.onload = function() {
                let myParam;
                let baseString;
                let searchString;
                searchString = window.location.search;
                const urlParams = new URLSearchParams(window.location.search);
                console.log("urlParams: ", window.location.search)
                console.log("urlParams.get('video'): ", urlParams.get('video'));
                if (searchString.includes('youtube')) {
                  if (searchString.includes('video')) {
                      myParam = urlParams.get('video');
                      baseString = "www.youtube.com/watch?v=";
                  }
                  else {
                      myParam = "";
                      baseString = "www.youtube.com/channel/UC-pariAxZlINnspVJEAy2Zw";
                  }

                  var desktopFallback = `https://${baseString}${myParam}`,
                  mobileFallback = `https://${baseString}${myParam}`,
                  app = `vnd.youtube://${baseString}${myParam}`;

                  if( /Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ) {
                      window.location = app;
                      window.setTimeout(function() {
                          window.location = mobileFallback;
                      }, 25);
                  } else {
                      window.location = desktopFallback;
                  }

                  function killPopup() {
                      window.removeEventListener('pagehide', killPopup);
                  }

                  window.addEventListener('pagehide', killPopup);
                }
                else if (searchString.includes('instagram')) {
                  if (searchString.includes('video')) {
                      myParam = urlParams.get('video');
                      baseString = "www.youtube.com/watch?v=";
                  }
                  else {
                      myParam = "";
                      baseString = "www.youtube.com/channel/UC-pariAxZlINnspVJEAy2Zw";
                  }

                  var desktopFallback = `https://${baseString}${myParam}`,
                  mobileFallback = `https://${baseString}${myParam}`,
                  app = `vnd.youtube://${baseString}${myParam}`;

                  if( /Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ) {
                      window.location = app;
                      window.setTimeout(function() {
                          window.location = mobileFallback;
                      }, 25);
                  } else {
                      window.location = desktopFallback;
                  }

                  function killPopup() {
                      window.removeEventListener('pagehide', killPopup);
                  }

                  window.addEventListener('pagehide', killPopup);
                }
                if (searchString.includes('spotify')) {
                  if (searchString.includes('video')) {
                      myParam = urlParams.get('video');
                      baseString = "www.youtube.com/watch?v=";
                  }
                  else {
                      myParam = "";
                      baseString = "www.youtube.com/channel/UC-pariAxZlINnspVJEAy2Zw";
                  }

                  var desktopFallback = `https://${baseString}${myParam}`,
                  mobileFallback = `https://${baseString}${myParam}`,
                  app = `vnd.youtube://${baseString}${myParam}`;

                  if( /Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ) {
                      window.location = app;
                      window.setTimeout(function() {
                          window.location = mobileFallback;
                      }, 25);
                  } else {
                      window.location = desktopFallback;
                  }

                  function killPopup() {
                      window.removeEventListener('pagehide', killPopup);
                  }

                  window.addEventListener('pagehide', killPopup);
                }
                if (searchString.includes('tiktok')) {
                  if (searchString.includes('video')) {
                      myParam = urlParams.get('video');
                      baseString = "www.youtube.com/watch?v=";
                  }
                  else {
                      myParam = "";
                      baseString = "www.youtube.com/channel/UC-pariAxZlINnspVJEAy2Zw";
                  }

                  var desktopFallback = `https://${baseString}${myParam}`,
                  mobileFallback = `https://${baseString}${myParam}`,
                  app = `vnd.youtube://${baseString}${myParam}`;

                  if( /Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ) {
                      window.location = app;
                      window.setTimeout(function() {
                          window.location = mobileFallback;
                      }, 25);
                  } else {
                      window.location = desktopFallback;
                  }

                  function killPopup() {
                      window.removeEventListener('pagehide', killPopup);
                  }

                  window.addEventListener('pagehide', killPopup);
                }
                if (searchString.includes('twitter')) {
                  if (searchString.includes('video')) {
                      myParam = urlParams.get('video');
                      baseString = "www.youtube.com/watch?v=";
                  }
                  else {
                      myParam = "";
                      baseString = "www.youtube.com/channel/UC-pariAxZlINnspVJEAy2Zw";
                  }

                  var desktopFallback = `https://${baseString}${myParam}`,
                  mobileFallback = `https://${baseString}${myParam}`,
                  app = `vnd.youtube://${baseString}${myParam}`;

                  if( /Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ) {
                      window.location = app;
                      window.setTimeout(function() {
                          window.location = mobileFallback;
                      }, 25);
                  } else {
                      window.location = desktopFallback;
                  }

                  function killPopup() {
                      window.removeEventListener('pagehide', killPopup);
                  }

                  window.addEventListener('pagehide', killPopup);
                }
                else {
                  window.location = "raptv.com";
                }
              
            };
        </script>
    </body>
</html>
